<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Crear</title>
    <link rel="icon" href="https://imgur.com/dXoNMJH.png">
    <link rel="stylesheet" href="/frontend/styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>

<body data-bs-theme="dark">
    <!-- navbar -->
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <img src="https://imgur.com/dXoNMJH.png" alt="Logo" width="40" height="40"
                    class="d-inline-block align-text-center">
                Milanga's End
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" id="l-inicio" href="/frontend/index.html">Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="l-nos" href="/frontend/nosotros/index.html">Nosotros</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="l-regis" href="/frontend/registrar/index.html">Registrarse</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" id="l-crear" aria-current="page" href="/frontend/crear/index.html">Crear</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="l-user" href="/frontend/listausuarios/index.html">Lista de usuarios</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="l-sand" href="/frontend/listasandwiches/index.html">Lista de sandwichs</a>
                    </li>
                </ul>
                <div class="d-flex justify-content-end"  id="user">
            
                </div>
            </div>
        </div>
    </nav>
    <!-- end-navbar -->

    <div class="bg-black p-5 mb-3">
        <h1 class="text-center">Crea tu sandwich</h1>
    </div>

    <!-- form -->
    
    
    <div class="bg-dark mb-3">
        <div class="container">
            <form id="form-sandwich" class="border border-info rounded" onsubmit="crear_milanesa(event)">
                <div id="pan" class="d-flex justify-content-evenly flex-wrap m-3">
                    <h2 class="title-ingredientes col-12">Pan:</h2>
                    <div class="card rounded-4 rounded-top-0 mb-3" style="width: 18rem;">
                        <img src="https://th.bing.com/th/id/OIP.14cBn8l7PZIEXQrF9RPuEQHaDt?rs=1&pid=ImgDetMain" class="card-img-top img-ingredientes" alt="...">
                        <input type="radio" class="btn-check" name="pan" id="pan1" value="blanco" onclick="boton1()" autocomplete="off">
                        <label class="btn btn-outline-success rounded-4 rounded-top-0" for="pan1">Blanco</label>
                    </div>
                    <div class="card rounded-4 rounded-top-0 mb-3" style="width: 18rem;">
                        <img src="https://th.bing.com/th/id/R.d972596980cc70d08ef3145de3202ad2?rik=0G9O%2biyoRHdBWA&riu=http%3a%2f%2froggendorf.cl%2fwp-content%2fuploads%2f2016%2f12%2fINTEGRAL-min.jpg&ehk=NxWLZtarQfFabtNysrGeguZZTCbJp0xA7jWMaLmvYqI%3d&risl=&pid=ImgRaw&r=0" class="card-img-top img-ingredientes" alt="...">
                        <input type="radio" class="btn-check" name="pan" id="pan2" value="integral" onclick="boton1()" autocomplete="off">
                        <label class="btn btn-outline-success rounded-4 rounded-top-0" for="pan2">Integral</label>
                    </div>
                    <div class="card rounded-4 rounded-top-0 mb-3" style="width: 18rem;">
                        <img src="https://th.bing.com/th/id/OIP._pjC8ItZYaGjN9m2yrGH3gHaHa?rs=1&pid=ImgDetMain" class="card-img-top img-ingredientes" alt="...">
                        <input type="radio" class="btn-check" name="pan" id="pan3" value="frances" onclick="boton1()" autocomplete="off">
                        <label class="btn btn-outline-success rounded-4 rounded-top-0" for="pan3">Frances</label>
                    </div>
                </div>
                
                <div id="carne" class="d-flex justify-content-evenly flex-wrap m-3 d-none">
                    <h2 class="title-ingredientes col-12">Carne:</h2>
                    <div class="card rounded-4 rounded-top-0 mb-3" style="width: 18rem;">
                        <img src="https://imag.bonviveur.com/preparar-la-carne.jpg" class="card-img-top img-ingredientes" alt="...">
                        <input type="radio" class="btn-check" name="milanesa" onclick="boton2()" id="milanesa1" value="de carne" autocomplete="off">
                        <label class="btn btn-outline-success rounded-4 rounded-top-0" for="milanesa1">Carne</label>
                    </div>
                    <div class="card rounded-4 rounded-top-0 mb-3" style="width: 18rem;">
                        <img src="https://locosxlaparrilla.com/wp-content/uploads/2015/02/Receta-Recetas-locosxlaparrilla-milanesamilanesasmilanesa-a-caballo-848x477.jpg" class="card-img-top img-ingredientes" alt="...">
                        <input type="radio" class="btn-check" name="milanesa" onclick="boton2()" id="milanesa2" value="de carne con huevo" autocomplete="off">
                        <label class="btn btn-outline-success rounded-4 rounded-top-0" for="milanesa2">Carne con huevo</label>
                    </div>
                    <div class="card rounded-4 rounded-top-0 mb-3" style="width: 18rem;">
                        <img src="https://i.ytimg.com/vi/mCdHbmI-ZcE/maxresdefault.jpg" class="card-img-top img-ingredientes" alt="...">
                        <input type="radio" class="btn-check" name="milanesa" onclick="boton2()" id="milanesa3" value="de carne con jamon y queso" autocomplete="off">
                        <label class="btn btn-outline-success rounded-4 rounded-top-0" for="milanesa3">Carne con jamon y queso</label>
                    </div>
                    <div class="card rounded-4 rounded-top-0 mb-3" style="width: 18rem;">
                        <img src="https://images.recetasparavivirmejor.com/wp-content/uploads/2022/08/yusi-milanesa-de-pollo-receta-facil-2022.jpg" class="card-img-top img-ingredientes" alt="...">
                        <input type="radio" class="btn-check" name="milanesa" onclick="boton2()" id="milanesa4" value="de pollo" autocomplete="off">
                        <label class="btn btn-outline-success rounded-4 rounded-top-0" for="milanesa4">Pollo</label>
                    </div>
                    <div class="card rounded-4 rounded-top-0 mb-3" style="width: 18rem;">
                        <img src="https://www.haceloconhuevos.com/wp-content/uploads/2022/04/Milanesa-de-pollo-a-caballo.jpg" class="card-img-top img-ingredientes" alt="...">
                        <input type="radio" class="btn-check" name="milanesa" onclick="boton2()" id="milanesa5" value="de pollo con huevo" autocomplete="off">
                        <label class="btn btn-outline-success rounded-4 rounded-top-0" for="milanesa5">Pollo con huevo</label>
                    </div>
                    <div class="card rounded-4 rounded-top-0 mb-3" style="width: 18rem;">
                        <img src="https://media.ambito.com/p/9ab5edb96bf6f254ec9d21259f4b0a6a/adjuntos/239/imagenes/040/540/0040540559/730x0/smart/milanesas-rellenasjpg.jpg" class="card-img-top img-ingredientes" alt="...">
                        <input type="radio" class="btn-check" name="milanesa" onclick="boton2()" id="milanesa6" value="de pollo con jamon y queso" autocomplete="off">
                        <label class="btn btn-outline-success rounded-4 rounded-top-0" for="milanesa6">Pollo con jamon y queso</label>
                    </div>
                    <div class="card rounded-4 rounded-top-0 mb-3" style="width: 18rem;">
                        <img src="https://primefoodgt.com/wp-content/uploads/2020/04/milanesa-1536x1536.jpg" class="card-img-top img-ingredientes" alt="...">
                        <input type="radio" class="btn-check" name="milanesa" onclick="boton2()" id="milanesa7" value="de cerdo" autocomplete="off">
                        <label class="btn btn-outline-success rounded-4 rounded-top-0" for="milanesa7">Cerdo</label>
                    </div>
                    <div class="card rounded-4 rounded-top-0 mb-3" style="width: 18rem;">
                        <img src="https://media-cdn.tripadvisor.com/media/photo-s/11/eb/33/fd/milanesa-a-caballo-con.jpg" class="card-img-top img-ingredientes" alt="...">
                        <input type="radio" class="btn-check" name="milanesa" onclick="boton2()" id="milanesa8" value="de cerdo con huevo" autocomplete="off">
                        <label class="btn btn-outline-success rounded-4 rounded-top-0" for="milanesa8">Cerdo con huevo</label>
                    </div>
                    <div class="card rounded-4 rounded-top-0 mb-3" style="width: 18rem;">
                        <img src="https://i.ytimg.com/vi/jqH0TiGDMkU/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLCr7mqLC_sSJTAK3GNL82byGY9bTA" class="card-img-top img-ingredientes" alt="...">
                        <input type="radio" class="btn-check" name="milanesa" onclick="boton2()" id="milanesa9" value="de cerdo con jamon y queso" autocomplete="off">
                        <label class="btn btn-outline-success rounded-4 rounded-top-0" for="milanesa9">Cerdo con jamon y queso</label>
                    </div>
                    <div class="card rounded-4 rounded-top-0 mb-3" style="width: 18rem;">
                        <img src="https://caynet.com.ar/wp-content/uploads/2020/05/milanesa-soja.jpg" class="card-img-top img-ingredientes" alt="...">
                        <input type="radio" class="btn-check" name="milanesa" onclick="boton2()" id="milanesa10" value="vegetal" autocomplete="off">
                        <label class="btn btn-outline-success rounded-4 rounded-top-0" for="milanesa10">Vegatal</label>
                    </div>
                </div>

                <div id="coccion" class="d-flex justify-content-evenly flex-wrap m-3 d-none">
                    <h2 class="title-ingredientes col-12">Coccion:</h2>
                    <div class="card rounded-4 rounded-top-0 mb-3" style="width: 18rem;">
                        <img src="https://www.laregion.es/asset/zoomcrop,1366,800,center,center/media/laregion/images/2015/08/07/2015080721500517586.jpg" class="card-img-top img-ingredientes" alt="...">
                        <input type="radio" class="btn-check" name="coccion" onclick="boton3()"id="coccion1" value="frita" autocomplete="off">
                        <label class="btn btn-outline-success rounded-4 rounded-top-0" for="coccion1">Fritas</label>
                    </div>
                    <div class="card rounded-4 rounded-top-0 mb-3" style="width: 18rem;">
                        <img src="https://th.bing.com/th/id/R.fa7780687bd8101941018ea1e82af4b0?rik=RR%2fSoP0g%2f4I5%2fg&riu=http%3a%2f%2fwww.guiadecocinafacil.com%2fwp-content%2fuploads%2f2012%2f04%2fMilanesas-al-horno.jpg&ehk=oHUtSMj621Ln%2bHf%2bz5K7xAFZYmqeaNXCpHhfnd7e%2bjU%3d&risl=&pid=ImgRaw&r=0" class="card-img-top img-ingredientes" alt="...">
                        <input type="radio" class="btn-check" name="coccion"  onclick="boton3()" id="coccion2" value="al horno" autocomplete="off">
                        <label class="btn btn-outline-success rounded-4 rounded-top-0" for="coccion2">Al horno</label>
                    </div>
                </div>

                <div id="verdura" class="d-flex justify-content-evenly flex-wrap m-3 d-none">
                    <h2 class="title-ingredientes col-12">Ensalada:</h2>
                    <div class="card rounded-4 rounded-top-0 mb-3" style="width: 18rem;">
                        <img src="https://media.airedesantafe.com.ar/p/ad94ec9565ada86097d9212bfeba685d/adjuntos/268/imagenes/002/295/0002295288/esta-tradicional-receta-no-puede-faltar-tu-mesa-navidena.jpg" class="card-img-top img-ingredientes" alt="...">
                        <input type="radio" class="btn-check" name="ensalada" onclick="boton4()" id="ensalada1" value="rusa" autocomplete="off">
                        <label class="btn btn-outline-success rounded-4 rounded-top-0" for="ensalada1">Rusa</label>
                    </div>
                    <div class="card rounded-4 rounded-top-0 mb-3" style="width: 18rem;">
                        <img src="https://i2.wp.com/enrilemoine.com/wp-content/uploads/2013/08/Ensalada-siete-sabores-SAVOIR-FAIRE-by-enrilemoine-3.jpg?w=1600&ssl=1" class="card-img-top img-ingredientes" alt="...">
                        <input type="radio" class="btn-check" name="ensalada" onclick="boton4()" id="ensalada2"value="de lechuga" autocomplete="off">
                        <label class="btn btn-outline-success rounded-4 rounded-top-0" for="ensalada2">Lechuga</label>
                    </div>
                    <div class="card rounded-4 rounded-top-0 mb-3" style="width: 18rem;">
                        <img src="https://img-global.cpcdn.com/recipes/920fc9d86332aa81/1200x630cq70/photo.jpg" class="card-img-top img-ingredientes" alt="...">
                        <input type="radio" class="btn-check" name="ensalada" onclick="boton4()" id="ensalada3" value="de arroz"  autocomplete="off">
                        <label class="btn btn-outline-success rounded-4 rounded-top-0" for="ensalada3">De arroz</label>
                    </div>
                </div>

                <div id="papas" class="d-flex justify-content-evenly flex-wrap m-3 d-none">
                    <h2 class="title-ingredientes col-12">Papas:</h2>
                    <div class="card rounded-4 rounded-top-0 mb-3" style="width: 18rem;">
                        <img src="https://www.cucinare.tv/wp-content/uploads/2020/02/Papas-fritas.jpg" class="card-img-top img-ingredientes" alt="...">
                        <input type="radio" class="btn-check" name="papas" onclick="boton5()" id="papas1" value="fritas" autocomplete="off">
                        <label class="btn btn-outline-success rounded-4 rounded-top-0" for="papas1">Fritas</label>
                    </div>
                    <div class="card rounded-4 rounded-top-0 mb-3" style="width: 18rem;">
                        <img src="https://congresosespas.es/wp-content/uploads/2021/12/recetas-con-patatas-hervidas.jpg" class="card-img-top img-ingredientes" alt="...">
                        <input type="radio" class="btn-check" name="papas" onclick="boton5()" id="papas2" value="cocidas" autocomplete="off">
                        <label class="btn btn-outline-success rounded-4 rounded-top-0" for="papas2">Cocidas</label>
                    </div>
                    <div class="card rounded-4 rounded-top-0 mb-3" style="width: 18rem;">
                        <img src="https://cdn.kiwilimon.com/recetaimagen/1874/10574.jpg" class="card-img-top img-ingredientes" alt="...">
                        <input type="radio" class="btn-check" name="papas" onclick="boton5()" id="papas3" value="pure" autocomplete="off">
                        <label class="btn btn-outline-success rounded-4 rounded-top-0" for="papas3">Pure</label>
                    </div>
                </div>
            </form>
        </div>
    </div>


    <!-- end-form -->

    <!-- footer -->
    <div class="footer-container">
        <div class="footer-logo">
            <a href="/frontend/index.html">
                <img src="https://imgur.com/dXoNMJH.png" alt="logo" width="100" height="100">
            </a>
        </div>
        <div>
            <p>Copyright © - 2024. Todos los derechos reservados. </p>
        </div>
    </div>
    <!-- end-footer -->

    <!-- scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/7f5b111335.js" crossorigin="anonymous"></script>
    <script src="opciones.js"></script>
    <script>
        function data_post(data){
            //verificar contenido data, que este dentro de las situaciones controladas
            alert("El ID de su sandwich es " + data.id);
            window.location.href = "../listas/index.html";
        }

        function crear_milanesa(event){
            event.preventDefault();
            const formdata = new FormData(event.target);

            const pan = formdata.get("pan");
            const milanesa = formdata.get("milanesa");
            const coccion = formdata.get("coccion");
            const ensalada = formdata.get("ensalada");
            const papas = formdata.get("papas");            
            
            fetch('http://127.0.0.1:5500/create', { 
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                    pan: pan,
                    milanesa: milanesa,
                    coccion: coccion,
                    ensalada: ensalada,
                    papas: papas,
                    usuario_id: 1
                })
            })
            .then(response => response.json())
            .then(data_post)
            .catch(error => console.log("Errores",error));
        }


    function data_received(data){
      const usuario = document.getElementById("user");

      let imagen = document.createElement("img");
      imagen.setAttribute("src", data.imagen);
      imagen.setAttribute("class", "rounded-5")
      imagen.setAttribute("witdh", 30);
      imagen.setAttribute("height", 50);

      let name = document.createElement("p");
      name.setAttribute("class", "fw-bold text-capitalize ms-1 align-self-center")
      name.innerText = `${data.nombre} ${data.apellido}`;

      usuario.append(imagen);
      usuario.append(name);
    }

    let id = new URLSearchParams(window.location.search).get("id");

    document.getElementById("l-inicio").setAttribute("href", `/frontend/usuario?id=${id}`);
    document.getElementById("l-nos").setAttribute("href", `/frontend/usuario/nosotros?id=${id}`);
    document.getElementById("l-regis").setAttribute("href", `/frontend/usuario/registrar?id=${id}`);
    document.getElementById("l-crear").setAttribute("href", `/frontend/usuario/crear?id=${id}`);
    document.getElementById("l-user").setAttribute("href", `/frontend/usuario/listausuarios?id=${id}`);
    document.getElementById("l-sand").setAttribute("href", `/frontend/usuario/listasandwiches?id=${id}`);

    console.log(id);
    fetch("http://127.0.0.1:5500/user/"+id)
      .then(res => res.json())
      .then(data_received)
      .catch(error => console.log("errores: ", error));

    </script>
</body>

</html>